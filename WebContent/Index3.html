<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="static/Stijl1.css">
<script src= "JS/scripts.js" type="text/javascript">
</script>
<title>Overzicht van alle geregistreede marktpartijen</title>
</head>
<body onload = "loadHeader()">
<div id="header">
<br><br><h1>Actief op de markt <br><br><br></h1>
</div>
<div id="subheader">
<h2>Overzicht van alle geregistreede marktpartijen</h2>
<br></br>
</div>
<div id="maincontent">

<button type="button" onclick="loadDoc()">Alle geregistreerden</button>

<script>
function loadDoc(){
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      var json = JSON.parse(this.responseText)
      var text = ""
      for (var i = 0; i < json.length; i++) {
        text += "<p>"+"Voornaam: " + json[i].firstName + " Achternaam:  " + json[i].lastName + " Email: " + json[i].email + " Photo: <img src=static/images/"+ json[i].photo + ".jpg>"  + "</p>" 
      }
      document.getElementById("maincontent").innerHTML = text
    }
  };
  xhttp.open("GET", "/MarktWeb/rest/HelloWorld/person", true);
  xhttp.send();
}
</script>
</div>
<div id="footer">
 Contact het team van marktorganisatie: <a href="mailto:peter.davidse@laposte.net">
  mail het marktteam</a>
</div>

</body>
</html>